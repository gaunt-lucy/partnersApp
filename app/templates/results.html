{% extends "base.html" %}
<!-- template for login form takes a 'form' object instatiated from the LoginForm class -->
<!-- form object is passed to the template by the login view function -->

{% block app_content %}
	
	<h1>Search for a partner</h1>
	<form action="" method="post" novalidate><!-- <form> element is a container for the web form -->
		{{ form.hidden_tag() }} <!-- hidden tag works with secret key to catch CSRF attacks -->

		<p>
			{{ form.text_search.label }}<br>
			{{ form.text_search }}
			{% for error in form.text_search.errors %} <!-- logic to display errors in form validation -->
			<span style="color: red;">[{{ error }}]</span>
			{% endfor %}
		</p>
		<p>{{ form.search() }}</p>
	</form>
	<br><a class="btn btn-secondary" href="{{ url_for('search') }}" role="button">&laquo; Return to search</a></p>
	<hr>

	{% if partners %}
            <table class="table">
			  <thead>
			    <tr>
			      <th scope="col">#</th>
			      <th scope="col">Type</th>
			      <th scope="col">Name</th>
			      <th scope="col">Official Name</th>
			    </tr>
			  </thead>
			  <tbody>
			  	{% for p in partners %}
			    <tr>
			    	<th scope="row">{{ p.id }}</th>
			     	<td>{{ p.ptype }}</td>
			     	<td>{{ p.name }}</td>
					<td>{{ p.offname }}</td>
				</tr>
			    {% endfor %}
			  </tbody>
			</table>
			{% else %}
			<br>
			<p>There are no partners that meet your search criteria.</p>
			{% endif %}
<!-- Edit this pagination block -->
	<nav aria-label="Page navigation example">
  		<ul class="pagination">
		    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
		    <li class="page-item"><a class="page-link" href="#">1</a></li>
		    <li class="page-item"><a class="page-link" href="#">2</a></li>
		    <li class="page-item"><a class="page-link" href="#">3</a></li>
		    <li class="page-item"><a class="page-link" href="#">Next</a></li>
	  </ul>
	</nav>
{% endblock %}